{"version":3,"sources":["../../src/client/clientEntryPoint.js"],"names":["qsOptions","querystring","parse","location","search","defaults","traceLevel","Lib","Trace","TRACE_NONE","delayInputCount","scheduler","syncOptions","sync","localObjBending","remoteObjBending","bendingIncrements","options","Object","assign","gameEngine","KombatGameEngine","clientEngine","document","addEventListener","e","test","navigator","userAgent","alert","NI","getElementById","focus","PB","kc","remove","canvas","createElement","setAttribute","width","height","body","appendChild","KombatClientEngine","querySelector","style","display","start"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA,IAAMA,SAAS,GAAGC,qBAAYC,KAAZ,CAAkBC,QAAQ,CAACC,MAA3B,CAAlB,C,CAEA;AACA;;;AACA,IAAMC,QAAQ,GAAG;AACbC,EAAAA,UAAU,EAAEC,aAAIC,KAAJ,CAAUC,UADT;AAEbC,EAAAA,eAAe,EAAE,CAFJ;AAGbC,EAAAA,SAAS,EAAE,iBAHE;AAIbC,EAAAA,WAAW,EAAE;AACTC,IAAAA,IAAI,EAAE,aADG;AAETC,IAAAA,eAAe,EAAE,GAFR;AAGTC,IAAAA,gBAAgB,EAAE,CAHT;AAITC,IAAAA,iBAAiB,EAAE;AAJV;AAJA,CAAjB;AAWA,IAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,QAAd,EAAwBL,SAAxB,CAAd;AAEA,IAAIoB,UAAU,GAAG,IAAIC,yBAAJ,CAAqBJ,OAArB,CAAjB;AAA+C;AAC/C,IAAIK,YAAY,GAAG,IAAnB;AAEAC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,UAASC,CAAT,EAAY;AAEzD,MAAI,uGAAuGC,IAAvG,CAA4GC,SAAS,CAACC,SAAtH,CAAJ,EAAsI;AAClIC,IAAAA,KAAK,CAAC,kCAAD,CAAL;AACH,GAFD,MAGO;AAEA,QAAIC,EAAE,GAAGP,QAAQ,CAACQ,cAAT,CAAwB,aAAxB,CAAT;AACAD,IAAAA,EAAE,CAACN,gBAAH,CAAoB,OAApB,EAA6B,UAAAC,CAAC,EAAG;AAC7BK,MAAAA,EAAE,CAACE,KAAH;AACH,KAFD;AAGN,QAAIC,EAAE,GAAGV,QAAQ,CAACQ,cAAT,CAAwB,oBAAxB,CAAT;AACME,IAAAA,EAAE,CAACT,gBAAH,CAAoB,OAApB,EAA6B,UAAAC,CAAC,EAAI;AAC9B,UAAIS,EAAE,GAAGX,QAAQ,CAACQ,cAAT,CAAwB,IAAxB,CAAT;;AACA,UAAGG,EAAH,EAAM;AACFA,QAAAA,EAAE,CAACC,MAAH;AACH;;AACD,UAAIC,MAAM,GAAGb,QAAQ,CAACc,aAAT,CAAuB,QAAvB,CAAb;AACAD,MAAAA,MAAM,CAACE,YAAP,CAAoB,IAApB,EAA0B,IAA1B;AACAF,MAAAA,MAAM,CAACG,KAAP,GAAe,GAAf;AACAH,MAAAA,MAAM,CAACI,MAAP,GAAgB,GAAhB;AACAjB,MAAAA,QAAQ,CAACkB,IAAT,CAAcC,WAAd,CAA0BN,MAA1B;AAGAd,MAAAA,YAAY,GAAG,IAAIqB,2BAAJ,CAAuBvB,UAAvB,EAAmCH,OAAnC,CAAf;AACAM,MAAAA,QAAQ,CAACqB,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,OAA7C,GAAuD,MAAvD;AACAxB,MAAAA,YAAY,CAACyB,KAAb;AACH,KAfD;AAgBN;AACD,CA7BD","sourcesContent":["import querystring from 'query-string';\nimport { Lib } from 'lance-gg';\nimport KombatClientEngine from '../client/KombatClientEngine';\nimport KombatGameEngine from '../common/KombatGameEngine';\nconst qsOptions = querystring.parse(location.search);\n\n// default options, overwritten by query-string options\n// is sent to both game engine and client engine\nconst defaults = {\n    traceLevel: Lib.Trace.TRACE_NONE,\n    delayInputCount: 5,\n    scheduler: 'render-schedule',\n    syncOptions: {\n        sync: 'extrapolate',\n        localObjBending: 0.5,\n        remoteObjBending: 1,\n        bendingIncrements: 2\n    }\n};\nlet options = Object.assign(defaults, qsOptions);\n\nlet gameEngine = new KombatGameEngine(options);;\nlet clientEngine = null;\n\ndocument.addEventListener('DOMContentLoaded', function(e) { \n\n\tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {\n    \talert('mobile controllers not available');\n\t}\n    else{\n        \n        let NI = document.getElementById('kombat-name');\n        NI.addEventListener('click', e =>{\n            NI.focus()\n        });\n\t\tlet PB = document.getElementById('kombat-play-button');\n        PB.addEventListener('click', e => {\n            let kc = document.getElementById('kc');\n            if(kc){\n                kc.remove();\n            }\n            let canvas = document.createElement('canvas');\n            canvas.setAttribute('id', 'kc');\n            canvas.width = 800;\n            canvas.height = 600;\n            document.body.appendChild(canvas);\n\n           \n            clientEngine = new KombatClientEngine(gameEngine, options);\n            document.querySelector('#kombat-menu').style.display = \"none\";\n            clientEngine.start();\n        });\n\t}\n});\n"],"file":"clientEntryPoint.js"}