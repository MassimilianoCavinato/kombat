{"version":3,"sources":["../../src/client/KombatRenderer.js"],"names":["ctx","canvas","game","C_WIDTH","C_HEIGHT","KombatRenderer","gameEngine","clientEngine","document","createElement","setAttribute","width","height","body","appendChild","zoom","getContext","lineWidth","offset","TwoVector","playerKombat","c","getElementById","x","position","y","t","dt","resetRender","world","queryObject","playerId","instanceType","Kombat","setOffset","queryObjects","Blood","forEach","obj","drawBlood","forEachObject","id","drawKombat","Bullet","drawBullet","Granade","drawGranade","Wall","drawWall","Explosion2","drawExplosion","drawHUD","restore","clearRect","save","translate","scale","fillStyle","i","ammo_loaded","fillRect","strokeStyle","throw_power","beginPath","rect","closePath","stroke","health","max_health","edge","Math","SQRT2","center","getCenter","radius","getCircumscribedRadiusLength","drawCircle","moveTo","lineTo","cos","direction","sin","arc","PI","fill","drawBox","splatter","sp","r","w","h","Renderer"],"mappings":"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","sourcesContent":["import { Renderer, TwoVector } from 'lance-gg';\nimport Kombat from '../common/Kombat';\nimport Bullet from '../common/Bullet';\nimport Granade from '../common/Granade';\nimport Wall from '../common/Wall';\nimport Blood from '../common/Blood';\nimport Explosion2 from '../common/Explosion2';\n\nlet ctx = null;\nlet canvas = null;\nlet game = null;\nconst C_WIDTH = 800;\nconst C_HEIGHT = 600;\n\nexport default class KombatRenderer extends Renderer {\n\n    constructor(gameEngine, clientEngine) {\n        super(gameEngine, clientEngine);\n        game = gameEngine;\n        canvas = document.createElement('canvas');\n        canvas.setAttribute('id', 'kc');\n        canvas.width = C_WIDTH;\n        canvas.height = C_HEIGHT;\n        document.body.appendChild(canvas);\n        clientEngine.zoom = 10;\n        ctx = canvas.getContext('2d');\n        ctx.lineWidth = 3 / clientEngine.zoom;\n        this.offset = new TwoVector(0, 0);\n    }\n\n    setOffset(playerKombat){\n        let c = document.getElementById('kc');\n        this.offset.x = (C_WIDTH/2)/this.clientEngine.zoom - playerKombat.position.x - (playerKombat.width / 2);\n        this.offset.y = (C_HEIGHT/2)/this.clientEngine.zoom - playerKombat.position.y - (playerKombat.height / 2);\n    }\n\n    draw(t, dt) {\n        super.draw(t, dt);\n        this.resetRender();\n        let playerKombat = this.gameEngine.world.queryObject({ playerId: this.gameEngine.playerId,  instanceType: Kombat });\n        if(playerKombat){\n            this.setOffset(playerKombat);\n            //draw blood stains first // layer 0\n            game.world.queryObjects({instanceType: Blood}).forEach(obj => {\n                this.drawBlood(obj);\n            });\n            game.world.forEachObject((id, obj) => {\n                if (obj instanceof Kombat) this.drawKombat(obj);\n                else if (obj instanceof Bullet) this.drawBullet(obj);\n                else if (obj instanceof Granade) this.drawGranade(obj);\n                else if (obj instanceof Wall) this.drawWall(obj);\n                else if (obj instanceof Explosion2) this.drawExplosion(obj);\n            });\n            this.drawHUD(playerKombat);\n        }\n\n        ctx.restore();\n    }\n\n    resetRender(){\n        ctx.clearRect(0, 0, C_WIDTH, C_HEIGHT);\n        ctx.save();\n        ctx.translate(0, 0);\n        ctx.scale(this.clientEngine.zoom, this.clientEngine.zoom);  // Zoom in and flip y axis\n    }\n\n    drawHUD(obj){\n        //Bullets\n        ctx.fillStyle = \"orange\";\n        for(let i=0; i < obj.ammo_loaded; i++){\n            ctx.fillRect(\n                (125 + i*6)/ this.clientEngine.zoom, \n                543/ this.clientEngine.zoom, \n                2 / this.clientEngine.zoom, \n                2 / this.clientEngine.zoom\n            );\n            ctx.fillRect(\n                (124 + i*6)/ this.clientEngine.zoom, \n                545/ this.clientEngine.zoom, \n                4 / this.clientEngine.zoom, \n                20 / this.clientEngine.zoom\n            );\n        }\n        //Throw Power\n        ctx.strokeStyle = \"white\";\n        ctx.fillStyle = \"rgba(100, 100, 100, .5)\";\n        ctx.fillRect(\n            20/ this.clientEngine.zoom, \n            544/ this.clientEngine.zoom, \n            obj.throw_power  * 100 / this.clientEngine.zoom, \n            18 / this.clientEngine.zoom\n        );\n        ctx.beginPath();\n        ctx.rect(\n            20/ this.clientEngine.zoom, \n            545/ this.clientEngine.zoom, \n            100 / this.clientEngine.zoom, \n            18/ this.clientEngine.zoom\n        );\n        ctx.closePath();\n        ctx.stroke();\n        //Life\n        ctx.strokeStyle = \"white\";\n        ctx.fillStyle = \"rgba(255, 0, 0, .5)\";\n        ctx.fillRect(20/ this.clientEngine.zoom, 570/ this.clientEngine.zoom, obj.health * ( 760 / obj.max_health)/ this.clientEngine.zoom, 18/ this.clientEngine.zoom);\n        ctx.beginPath();\n        ctx.rect(20/ this.clientEngine.zoom, 570/ this.clientEngine.zoom, 760 / this.clientEngine.zoom, 16/ this.clientEngine.zoom);\n        ctx.closePath();\n        ctx.stroke();\n    }\n\n    getCenter(obj){\n\n        return new TwoVector(\n            obj.position.x + this.offset.x + obj.width/2,\n            obj.position.y + this.offset.y + obj.height/2\n        )\n    }\n\n    getCircumscribedRadiusLength(edge){\n        return (edge * Math.SQRT2) / 2;\n    }\n\n    drawKombat(obj) {\n        ctx.fillStyle = \"transparent\";\n        ctx.strokeStyle = obj.playerId === this.gameEngine.playerId ? \"dodgerblue\" : \"crimson\";\n        let center = this.getCenter(obj);\n        let radius = this.getCircumscribedRadiusLength(obj.width);\n        this.drawCircle(center.x, center.y, radius);\n        if(obj.ammo_loaded === -1){\n            this.drawCircle(center.x, center.y, radius+.4);\n        }\n        ctx.moveTo(center.x,center.y);\n        ctx.lineTo(center.x + radius * Math.cos(obj.direction), center.y + radius * Math.sin(obj.direction));\n        ctx.stroke();\n    }\n\n    drawBullet(obj){\n        ctx.fillStyle = \"orange\";\n        ctx.strokeStyle = \"white\";\n        let center = this.getCenter(obj);\n        let radius = this.getCircumscribedRadiusLength(obj.width);\n        ctx.beginPath();\n        ctx.arc(center.x, center.y, .5, 0, 2*Math.PI);\n        ctx.fill();\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n    drawGranade(obj){\n        ctx.fillStyle = \"olive\";\n        ctx.strokeStyle = \"green\";\n        let center = this.getCenter(obj);\n        ctx.beginPath();\n        ctx.arc(center.x, center.y, .8, 0, 2*Math.PI);\n        ctx.fill();\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n    drawWall(obj){\n        ctx.strokeStyle =  \"white\";\n        let center = this.getCenter(obj);\n        this.drawBox(center.x, center.y, obj.width, obj.height);\n    }\n\n    drawBlood(obj){\n        ctx.fillStyle = 'rgba(255,0,0,.5)';\n        let center = this.getCenter(obj);\n        obj.splatter.forEach(sp => {\n            ctx.beginPath();\n            ctx.arc(center.x+1+sp[0], center.y+1+sp[1], sp[2], 0, 2*Math.PI);\n            ctx.fill();\n            ctx.closePath();\n        });\n    }\n\n    drawExplosion(obj) {\n        ctx.fillStyle = \"rgba(200,100,0,.4)\"\n        let center = new TwoVector(\n            obj.position.x + this.offset.x,\n            obj.position.y + this.offset.y\n        );\n        ctx.beginPath();\n        ctx.arc(center.x, center.y, obj.radius, 0, 2*Math.PI);\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    drawCircle(x, y, r, ) {\n        ctx.beginPath();\n        ctx.arc(x, y, r, 0, 2*Math.PI);\n        ctx.closePath();\n        ctx.stroke();\n    }\n\n    drawBox(x, y, w, h){\n        ctx.beginPath();\n        ctx.rect(x - (w/2), y - (h/2), w, h);\n        ctx.closePath();\n        ctx.stroke();\n    }\n}\n"],"file":"KombatRenderer.js"}